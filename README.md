# 智影视听

**智影视听**是一款基于Qt和DTK的智能视频播放器，支持主流视频格式和丰富的播放控制功能，并集成了多种人工智能分析功能。

## 功能介绍

### 基本功能

#### 媒体播放
- **多格式支持**：播放MP4、MKV、AVI等主流视频格式及多种音频格式。
- **高质量解码**：基于MPV引擎，提供高性能视频解码和流畅播放体验。
- **音频控制**：精确音量调节、静音功能、多级音量快速切换。
- **播放控制**：播放/暂停、停止、快进/快退、精确进度调整。

#### 播放列表和历史记录
- **播放列表管理**：添加、删除和排序媒体文件。
- **播放历史记录**：自动记录已播放媒体，支持快速访问最近播放内容。
- **播放模式选择**：顺序播放、随机播放、单曲循环、列表循环等多种模式。
- **媒体信息显示**：展示标题、艺术家、专辑等媒体元数据。

#### 用户界面
- **主题切换**：支持亮色/暗色主题，自动适应系统主题设置。
- **全屏模式**：沉浸式观影体验，自动隐藏控制元素。
- **缩略图预览**：拖动进度条时显示视频帧预览。
- **响应式设计**：自适应不同屏幕尺寸，优化显示效果。

### 高级功能

#### 智能情感分析
- **情感共鸣**：自动识别用户当前情感并由情感AI给出情感共鸣。
- **情感检测**：根据用户所看视频及音乐自动分析用户当前情感。
- **情感分析**：自动分析音乐所蕴含的情感。

#### 智能视频分析
- **内容识别**：自动分析视频内容，识别人物、场景和关键信息。
- **人脸检测**：识别视频中的人脸，提供位置和表情分析。
- **情感分析**：实时分析视频中人物情感变化。
- **剧情分析**：提取视频剧情要点，生成内容摘要。
- **视频时间轴**：可视化展示视频内容。

#### 音频分析与增强
- **音乐风格识别**：分析音乐风格和情绪特征。
- **情感配色**：根据音乐情感自动生成匹配的视觉效果。
- **音频可视化**：实时音频频谱显示，增强音乐体验。
- **音频增强**：优化音频质量，提升聆听体验。

#### 字幕与语言
- **在线字幕获取**：AI在线识别语音转字幕。
- **字幕翻译**：实时将字幕翻译成多种语言。
- **音频转写**：将视频中的对话转换为文本。
- **多语言支持**：界面支持中文、英文等多种语言显示。

#### 播放增强功能
- **长按加速**：长按指定键临时加速播放，松开后恢复正常速度。
- **自定义倍速**：支持0.5x到3.0x多级播放速度调整。
- **音频同步**：保证音视频同步，避免口型不一致问题。

### 个性化设置

#### 快捷键定制
- **可自定义快捷键**：为常用功能设置个性化快捷键。
- **快捷键捕获**：直观的快捷键设置界面。
- **预设方案**：多种预设快捷键方案可选。

#### 播放设置
- **播放模式**：5种播放模式。
- **自动播放**：设置打开文件后自动播放。
- **记忆播放位置**：自动从上次播放位置继续播放。

#### 用户偏好
- **界面布局**：自定义控制元素显示和位置。
- **缩略图设置**：调整缩略图生成质量和频率。
- **字幕样式**：自定义字幕字体、大小和颜色。
- **音频输出**：选择音频设备和输出方式。

## 系统要求

- **操作系统**：Deepin/UOS
- **依赖**：
  - Qt 5.11+
  - DTK 5.6+
  - libdtkwidget5
  - libmpv1
  - libtag1v5
  - libcurl4
  - libssl1.1
  - uuid-runtime

### 详细依赖

#### Qt依赖
1. **Qt核心模块**
   - Qt Core (QtCore)：提供非UI核心功能，包括信号槽机制、元对象系统、事件循环等。
   - Qt GUI (QtGui)：提供GUI基础功能，包括窗口系统集成、OpenGL支持、图像处理等。
   - Qt Widgets：提供传统桌面风格的UI组件集合。
   - Qt PrintSupport：提供打印功能支持。

2. **Qt多媒体模块**
   - Qt Multimedia：提供音视频播放、媒体控制、摄像头访问等多媒体功能。
   - Qt MultimediaWidgets：提供多媒体组件的UI控件。
   - Qt X11Extras：在Linux系统提供X11特定功能。

3. **Qt网络模块**
   - Qt Network：提供TCP/IP、UDP、HTTP等网络编程功能。
   - Qt Concurrent：提供高级线程和并发编程API。

4. **Qt数据相关模块**
   - Qt SQL：提供数据库访问(主要使用SQLite作为后端)。
   - Qt XML：提供XML解析和生成功能。

#### DTK依赖
1. **DTK基础组件**
   - DtkCore (libdtkcore5)：Deepin桌面环境核心库，提供配置管理、日志等基础功能。
   - DtkGui (libdtkgui5)：Deepin桌面环境GUI扩展库，提供颜色、字体等渲染支持。
   - DtkWidget (libdtkwidget5)：Deepin桌面环境UI组件库，提供符合Deepin设计规范的窗口、按钮等控件。

2. **DTK UI组件使用情况**
   - DMainWindow - 主窗口框架
   - DTitlebar - 标题栏
   - DDialog - 对话框
   - DPushButton - 按钮控件
   - DSlider - 滑块控件
   - DComboBox - 下拉框控件
   - DLineEdit - 文本输入框
   - DFrame - 框架容器
   - DListView - 列表视图
   - DLabel - 标签控件
   - DProgressBar - 进度条控件
   - DIconButton - 图标按钮
   - DFloatingButton - 浮动按钮

#### 多媒体依赖
1. **MPV相关**
   - libmpv (libmpv1)：强大的视频播放引擎，用于视频解码和播放控制。
   - mpv开发包 (libmpv-dev)：构建时需要的MPV头文件和库。

2. **音频文件处理**
   - TagLib (libtag1v5)：音频文件元数据处理库，用于读取音乐文件ID3标签等信息。
   - TagLib开发包 (libtag1-dev)：构建时需要的TagLib头文件和库。

#### 数据库依赖
1. **SQLite数据库**
   - SQLite3：轻量级嵌入式SQL数据库引擎。
   - Qt SQL驱动 (QSQLITE)：Qt提供的SQLite数据库驱动。

2. **数据库使用场景**
   - 媒体库管理 (MediaLibrary类)
   - 播放历史记录 (MusicHistoryManager类)
   - AI推荐系统记录
   - 播放统计与分析

#### 网络和安全依赖
1. **网络请求**
   - libcurl (libcurl4)：多协议文件传输库，用于HTTP/HTTPS请求。
   - libcurl开发包 (libcurl4-openssl-dev)：构建时需要的libcurl头文件和库。

2. **安全相关**
   - OpenSSL (libssl1.1)：加密库，支持安全连接。
   - OpenSSL开发包 (libssl-dev)：构建时需要的OpenSSL头文件和库。

#### 系统工具依赖
1. **基础系统工具**
   - UUID生成 (uuid-runtime)：用于生成和解析通用唯一标识符。
   - UUID开发包 (uuid-dev)：构建时需要的UUID头文件和库。

2. **国际化支持**
   - Qt翻译工具：支持多语言翻译，项目包含中文和英文翻译文件。
   - 嵌入式翻译支持：使用`CONFIG += embed_translations`启用。

#### 编译和构建依赖
1. **基础构建工具**
   - qtbase5-dev：Qt5基础开发包。
   - g++：GNU C++编译器。
   - make：GNU自动化构建工具。

2. **Debian打包工具**
   - debhelper (>= 11)：Debian打包助手。
   - dpkg-dev：Debian打包工具。

3. **构建配置**
   - qmake：Qt项目构建工具。
   - pkgconfig：用于检测和配置构建依赖。
   - lrelease：Qt翻译文件编译工具。

## 安装方法

```bash
sudo apt install ./svav_1.0.0-1_amd64.deb
```

或者您可以在UOS操作系统下直接双击安装程序点击安装。

安装完成后在菜单栏打开应用即可，初次打开应用可能较慢。

若遇到问题请查看安装部署手册的常见问题解决部分。
